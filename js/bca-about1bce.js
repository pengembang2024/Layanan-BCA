var mediariset=function(){var e=function(){!function(e,t){if(""!=e&&void 0!==e){$("#"+e.replace(/-/g,"")).prop("checked",!0),$(".JS__filter-dropdown").addClass("has-filter");var a=$(".JS__filter-dropdown .badge").text();""===a&&(a=0),$(".JS__filter-dropdown .badge").html(parseInt(a)+1),$('ul.m-filter__dropdown-modal__header-tab li a[data-target="'+t+'"]').append('<span class="badge">1</span>')}}(a().fc,"newsroomCategory")},t=function(e){var t=$(".newsroom-binding").data("reset");if(!t&&"true"!=t){var a=[],o=document.querySelectorAll(e+":checked");for(var n of o)a.push(n.id.toLowerCase())}return a},a=function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<a.length;o++)e=a[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t},o=$(".newsroom-binding"),n=function(){o.data("currpage",1),i("#infinite-loading",!0)},i=function(e="#infinite-loading",t=!1){$(e).each(function(){var e=$(this).data("fninfiniteload");e&&"function"==typeof e&&e(t)})};return{loaddata:function(e){var a={did:o.data("ds"),page:o.data("currpage"),psize:o.data("psize"),filter:{category:t(".fc"),years:t(".fy"),keyword:$("#promoSearching").val()},tid:o.data("tid")};$.ajax({url:"/api/sitecore/newsroom/GetAboutNews",type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json; charset=utf-8",beforeSend:function(e){if($("[name=__RequestVerificationToken]").length>0){var t=$("[name=__RequestVerificationToken]").val();e.setRequestHeader("__RequestVerificationToken",t)}},success:function(t){var a,n,i,r,d,s;if(a=$("#promoSearching").val(),n=t.totalresult,i=$(".newsroom-binding .a-text-title.a-text-weight-heading.list-title"),r=$("#resultFilterNegative>.a-text-subtitle"),d=i.data("msg"),s=i.data("title"),d=(d=d.replace("[total]",n)).replace("[keyword]",a),""==a||null==a||"undefined"==a?(i.text(s),r.css({display:"none"})):(r.text(d),i.text(d),r.css({display:"block"})),t.issuccess&&e&&"function"==typeof e){var l=o.data("currpage");o.data("currpage",l+1),(t.data.length<=2||void 0===t.data)&&1==l?$("#resultFilterNegative").removeClass("hide-promo"):1==l&&$("#resultFilterNegative").addClass("hide-promo"),e(t)}},error:function(e){console.log(e)}}).done(function(e){var a=$("#promoSearching").val(),o=t(".fc"),n=t(".fy");""!=a||""!=o&&"undefined"!=o&&void 0!==o||""!=n&&"undefined"!=n&&void 0!==n?$(".o-header-title.newsroom-header").data("find",!0):($(".newsroom-binding").data("reset",!1),$(".o-header-title.newsroom-header").data("find",!1));var i=$(".o-header-title.newsroom-header").data("find");console.log("find:"+i),$(".o-header-title.newsroom-header").length>0&&1==i?$(".m-video-information").css({display:"none"}):$(".m-video-information").css({display:"block"}),$(".o-header-title.newsroom-header").length>0&&1==i?$(".category-content").css({display:"none"}):$(".category-content").css({display:"block"})})},init:function(){$("#newsroomFormSearch").submit(function(e){e.preventDefault(),$(".o-header-title.newsroom-header").data("find",!0),n()}),$(".newsroom-header .m-filter .JS_filter-apply").on("click",function(e){$(".o-header-title.newsroom-header").data("find",!0),n()}),$(".newsroom-header .m-filter .JS_filter-reset").on("click",function(e){$(".o-header-title.newsroom-header").data("find",!1),$(".newsroom-binding").data("reset",!0),n()}),e()}}}();mediariset.init();